import{i as b,h as T,a as $,c as x,M as j,b as ee,g as U,K as re,N as ae,O as fe,P as Y,f as H,j as L,C as ne,Q as se,R as V,S as ie,T as y,U as le,V as F,W as oe,X as q,m as ue,Y as te,Z as de,_ as ve,a0 as m,a1 as X,a2 as G,a3 as Q,a4 as D,a5 as W,e as ce,a6 as _e,a7 as pe,a8 as he,a9 as ge,aa as Ee,ab as me,ac as Ae,ad as Te}from"./D2mf_MPo.js";function ke(e,a){return a}function Se(e,a,f){for(var u=[],t=a.length,o,l=a.length,p=0;p<t;p++){let g=a[p];Q(g,()=>{if(o){if(o.pending.delete(g),o.done.add(g),o.pending.size===0){var d=e.outrogroups;z(F(o.done)),d.delete(o),d.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var s=u.length===0&&f!==null;if(s){var v=f,n=v.parentNode;pe(n),n.append(v),e.items.clear()}z(a,!s)}else o={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(o)}function z(e,a=!0){for(var f=0;f<e.length;f++)he(e[f],a)}var B;function Le(e,a,f,u,t,o=null){var l=e,p=new Map,s=(a&X)!==0;if(s){var v=e;l=T?b($(v)):v.appendChild(x())}T&&j();var n=null,g=re(()=>{var i=f();return oe(i)?i:i==null?[]:F(i)}),d,_=!0;function S(){r.fallback=n,Ne(r,d,l,a,u),n!==null&&(d.length===0?(n.f&m)===0?G(n):(n.f^=m,k(n,null,l)):Q(n,()=>{n=null}))}var M=ee(()=>{d=U(g);var i=d.length;let C=!1;if(T){var w=ae(l)===fe;w!==(i===0)&&(l=Y(),b(l),H(!1),C=!0)}for(var E=new Set,N=ie,O=le(),h=0;h<i;h+=1){T&&L.nodeType===ne&&L.data===se&&(l=L,C=!0,H(!1));var I=d[h],R=u(I,h),c=_?null:p.get(R);c?(c.v&&V(c.v,I),c.i&&V(c.i,h),O&&N.skipped_effects.delete(c.e)):(c=Ie(p,_?l:B??=x(),I,R,h,t,a,f),_||(c.e.f|=m),p.set(R,c)),E.add(R)}if(i===0&&o&&!n&&(_?n=y(()=>o(l)):(n=y(()=>o(B??=x())),n.f|=m)),T&&i>0&&b(Y()),!_)if(O){for(const[Z,J]of p)E.has(Z)||N.skipped_effects.add(J.e);N.oncommit(S),N.ondiscard(()=>{})}else S();C&&H(!0),U(g)}),r={effect:M,items:p,outrogroups:null,fallback:n};_=!1,T&&(l=L)}function Ne(e,a,f,u,t){var o=(u&_e)!==0,l=a.length,p=e.items,s=e.effect.first,v,n=null,g,d=[],_=[],S,M,r,i;if(o)for(i=0;i<l;i+=1)S=a[i],M=t(S,i),r=p.get(M).e,(r.f&m)===0&&(r.nodes?.a?.measure(),(g??=new Set).add(r));for(i=0;i<l;i+=1){if(S=a[i],M=t(S,i),r=p.get(M).e,e.outrogroups!==null)for(const c of e.outrogroups)c.pending.delete(r),c.done.delete(r);if((r.f&m)!==0)if(r.f^=m,r===s)k(r,null,f);else{var C=n?n.next:s;r===e.effect.last&&(e.effect.last=r.prev),r.prev&&(r.prev.next=r.next),r.next&&(r.next.prev=r.prev),A(e,n,r),A(e,r,C),k(r,C,f),n=r,d=[],_=[],s=n.next;continue}if((r.f&D)!==0&&(G(r),o&&(r.nodes?.a?.unfix(),(g??=new Set).delete(r))),r!==s){if(v!==void 0&&v.has(r)){if(d.length<_.length){var w=_[0],E;n=w.prev;var N=d[0],O=d[d.length-1];for(E=0;E<d.length;E+=1)k(d[E],w,f);for(E=0;E<_.length;E+=1)v.delete(_[E]);A(e,N.prev,O.next),A(e,n,N),A(e,O,w),s=w,n=O,i-=1,d=[],_=[]}else v.delete(r),k(r,s,f),A(e,r.prev,r.next),A(e,r,n===null?e.effect.first:n.next),A(e,n,r),n=r;continue}for(d=[],_=[];s!==null&&s!==r;)(v??=new Set).add(s),_.push(s),s=s.next;if(s===null)continue}(r.f&m)===0&&d.push(r),n=r,s=r.next}if(e.outrogroups!==null){for(const c of e.outrogroups)c.pending.size===0&&(z(F(c.done)),e.outrogroups?.delete(c));e.outrogroups.size===0&&(e.outrogroups=null)}if(s!==null||v!==void 0){var h=[];if(v!==void 0)for(r of v)(r.f&D)===0&&h.push(r);for(;s!==null;)(s.f&D)===0&&s!==e.fallback&&h.push(s),s=s.next;var I=h.length;if(I>0){var R=(u&X)!==0&&l===0?f:null;if(o){for(i=0;i<I;i+=1)h[i].nodes?.a?.measure();for(i=0;i<I;i+=1)h[i].nodes?.a?.fix()}Se(e,h,R)}}o&&W(()=>{if(g!==void 0)for(r of g)r.nodes?.a?.apply()})}function Ie(e,a,f,u,t,o,l,p){var s=(l&de)!==0?(l&ve)===0?ue(f,!1,!1):q(f):null,v=(l&te)!==0?q(t):null;return{v:s,i:v,e:y(()=>(o(a,s??f,v??t,p),()=>{e.delete(u)}))}}function k(e,a,f){if(e.nodes)for(var u=e.nodes.start,t=e.nodes.end,o=a&&(a.f&m)===0?a.nodes.start:f;u!==null;){var l=ce(u);if(o.before(u),u===t)return;u=l}}function A(e,a,f){a===null?e.effect.first=f:a.next=f,f===null?e.effect.last=a:f.prev=a}const Me=Symbol("is custom element"),Ce=Symbol("is html");function be(e){if(T){var a=!1,f=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var u=e.value;K(e,"value",null),e.value=u}if(e.hasAttribute("checked")){var t=e.checked;K(e,"checked",null),e.checked=t}}};e.__on_r=f,W(f),ge()}}function K(e,a,f,u){var t=we(e);T&&(t[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||t[a]!==(t[a]=f)&&(a==="loading"&&(e[Ee]=f),f==null?e.removeAttribute(a):typeof f!="string"&&Oe(e).includes(a)?e[a]=f:e.setAttribute(a,f))}function we(e){return e.__attributes??={[Me]:e.nodeName.includes("-"),[Ce]:e.namespaceURI===me}}var P=new Map;function Oe(e){var a=e.getAttribute("is")||e.nodeName,f=P.get(a);if(f)return f;P.set(a,f=[]);for(var u,t=e,o=Element.prototype;o!==t;){u=Te(t);for(var l in u)u[l].set&&f.push(l);t=Ae(t)}return f}export{Le as e,ke as i,be as r,K as s};
