import{c as R,a as n,f as c,s as g}from"../chunks/DLNOMP84.js";import{i as Ve}from"../chunks/C5ne2wUq.js";import{p as qe,o as ze,l as oe,k as Fe,z as S,r as Ge,g as e,s as h,m as $,D as Pe,x as o,$ as Be,u as l,w as i,q as _,v as p,E as He,F as Je}from"../chunks/D2mf_MPo.js";import{i as m}from"../chunks/BDyHfgtg.js";import{s as x,e as ie,i as le}from"../chunks/CoSwtozg.js";import{h as Qe}from"../chunks/BNZG-Io9.js";import{s as We,a as Xe}from"../chunks/DlPtdyWE.js";import{p as Ye}from"../chunks/BP5smSF2.js";import{k as Ze,l as er}from"../chunks/MscGuMyR.js";var rr=c('<div class="loading svelte-1gd4mte">Laster...</div>'),tr=c('<div class="error svelte-1gd4mte"> </div>'),ar=c('<span class="badge year svelte-1gd4mte"> </span>'),sr=c('<span class="badge duration svelte-1gd4mte"> </span>'),or=c('<p class="playwright svelte-1gd4mte">Av <a class="svelte-1gd4mte"> </a></p>'),ir=c('<p class="play svelte-1gd4mte"> </p>'),lr=c('<p class="description svelte-1gd4mte"> </p>'),vr=c('<a target="_blank" rel="noopener" class="btn btn-primary svelte-1gd4mte">Se på NRK TV</a>'),nr=c('<a target="_blank" rel="noopener" class="btn btn-primary svelte-1gd4mte">Se på NRK TV</a>'),dr=c('<span class="character svelte-1gd4mte"> </span>'),cr=c('<li class="svelte-1gd4mte"><a class="svelte-1gd4mte"> </a> <!></li>'),pr=c('<div class="contributor-group svelte-1gd4mte"><h3 class="svelte-1gd4mte"> </h3> <ul class="svelte-1gd4mte"></ul></div>'),_r=c('<section class="contributors svelte-1gd4mte"><h2 class="svelte-1gd4mte">Medvirkende</h2> <div class="contributor-groups svelte-1gd4mte"></div></section>'),mr=c('<article class="episode-detail svelte-1gd4mte"><a href="/" class="back-link svelte-1gd4mte">&larr; Tilbake til oversikt</a> <div class="episode-header svelte-1gd4mte"><div class="episode-image svelte-1gd4mte"><img class="svelte-1gd4mte"/></div> <div class="episode-meta svelte-1gd4mte"><h1 class="svelte-1gd4mte"> </h1> <div class="meta-badges svelte-1gd4mte"><!> <!></div> <!> <!> <!> <div class="actions svelte-1gd4mte"><!></div></div></div> <!></article>');function wr(ve,ne){qe(ne,!1);const H=()=>Xe(Ye,"$page",de),[de,ce]=We(),T=$(),w=$();let r=$(null),U=$([]),A=$(!0),j=$(null);ze(()=>{pe()});function pe(){try{h(r,Ze(e(T))),e(r)?h(U,er(e(T))):h(j,"Episode ikke funnet"),h(A,!1)}catch(s){h(j,s instanceof Error?s.message:"Ukjent feil"),h(A,!1)}}function _e(s){if(!s)return"";const v=Math.floor(s/3600),f=Math.floor(s%3600/60);return v>0?`${v} time${v>1?"r":""} ${f} min`:`${f} minutter`}function me(s,v=960){return s?s.includes("gfx.nrk.no")?s.replace(/\/\d+$/,`/${v}`):s:"/placeholder.jpg"}function ge(s){return{director:"Regissor",actor:"Skuespiller",playwright:"Manusforfatter",composer:"Komponist",set_designer:"Scenograf",costume_designer:"Kostymedesigner",producer:"Produsent",other:"Annet"}[s||""]||s||"Ukjent rolle"}function fe(s){const v={};for(const f of s){const b=f.role||"other";v[b]||(v[b]=[]),v[b].push(f)}return v}oe(()=>H(),()=>{h(T,H().params.id||"")}),oe(()=>e(U),()=>{h(w,fe(e(U)))}),Fe(),Ve();var J=R();Qe("1gd4mte",s=>{var v=R(),f=S(v);{var b=K=>{Pe(()=>{Be.title=`${e(r),o(()=>e(r).title)??""} - Kulturperler`})};m(f,K=>{e(r)&&K(b)})}n(s,v)});var ue=S(J);{var he=s=>{var v=rr();n(s,v)},be=s=>{var v=R(),f=S(v);{var b=k=>{var y=tr(),C=l(y,!0);i(y),_(()=>g(C,e(j))),n(k,y)},K=k=>{var y=R(),C=S(y);{var ke=D=>{var I=mr(),L=p(l(I),2),N=l(L),Q=l(N);i(N);var W=p(N,2),O=l(W),ye=l(O,!0);i(O);var V=p(O,2),X=l(V);{var $e=t=>{var a=ar(),d=l(a,!0);i(a),_(()=>g(d,(e(r),o(()=>e(r).year)))),n(t,a)};m(X,t=>{e(r),o(()=>e(r).year)&&t($e)})}var xe=p(X,2);{var we=t=>{var a=sr(),d=l(a,!0);i(a),_(E=>g(d,E),[()=>(e(r),o(()=>_e(e(r).duration_seconds)))]),n(t,a)};m(xe,t=>{e(r),o(()=>e(r).duration_seconds)&&t(we)})}i(V);var Y=p(V,2);{var Ee=t=>{var a=or(),d=p(l(a)),E=l(d,!0);i(d),i(a),_(()=>{x(d,"href",`/person/${e(r),o(()=>e(r).playwright_name)??""}`),g(E,(e(r),o(()=>e(r).playwright_name)))}),n(t,a)};m(Y,t=>{e(r),o(()=>e(r).playwright_name)&&t(Ee)})}var Z=p(Y,2);{var je=t=>{var a=ir(),d=l(a);i(a),_(()=>g(d,`Teaterstykke: ${e(r),o(()=>e(r).play_title)??""}`)),n(t,a)};m(Z,t=>{e(r),o(()=>e(r).play_title)&&t(je)})}var ee=p(Z,2);{var Ke=t=>{var a=lr(),d=l(a,!0);i(a),_(()=>g(d,(e(r),o(()=>e(r).description)))),n(t,a)};m(ee,t=>{e(r),o(()=>e(r).description)&&t(Ke)})}var re=p(ee,2),Me=l(re);{var Re=t=>{var a=vr();_(()=>x(a,"href",(e(r),o(()=>e(r).nrk_url)))),n(t,a)},Se=t=>{var a=nr();_(()=>x(a,"href",`https://tv.nrk.no/se?v=${e(r),o(()=>e(r).prf_id)??""}`)),n(t,a)};m(Me,t=>{e(r),o(()=>e(r).nrk_url)?t(Re):t(Se,!1)})}i(re),i(W),i(L);var Te=p(L,2);{var Ue=t=>{var a=_r(),d=p(l(a),2);ie(d,5,()=>(e(w),o(()=>Object.entries(e(w)))),le,(E,Ae)=>{var te=He(()=>Je(e(Ae),2));let ae=()=>e(te)[0],Ce=()=>e(te)[1];var q=pr(),z=l(q),De=l(z,!0);i(z);var se=p(z,2);ie(se,5,Ce,le,(F,u)=>{var G=cr(),M=l(G),Ie=l(M,!0);i(M);var Le=p(M,2);{var Ne=P=>{var B=dr(),Oe=l(B);i(B),_(()=>g(Oe,`som ${e(u),o(()=>e(u).character_name)??""}`)),n(P,B)};m(Le,P=>{e(u),o(()=>e(u).character_name)&&P(Ne)})}i(G),_(()=>{x(M,"href",`/person/${e(u),o(()=>e(u).person_id)??""}`),g(Ie,(e(u),o(()=>e(u).person_name)))}),n(F,G)}),i(se),i(q),_(F=>g(De,F),[()=>(ae(),o(()=>ge(ae())))]),n(E,q)}),i(d),i(a),n(t,a)};m(Te,t=>{e(w),o(()=>Object.keys(e(w)).length>0)&&t(Ue)})}i(I),_(t=>{x(Q,"src",t),x(Q,"alt",(e(r),o(()=>e(r).title))),g(ye,(e(r),o(()=>e(r).title)))},[()=>(e(r),o(()=>me(e(r).image_url)))]),n(D,I)};m(C,D=>{e(r)&&D(ke)},!0)}n(k,y)};m(f,k=>{e(j)?k(b):k(K,!1)},!0)}n(s,v)};m(ue,s=>{e(A)?s(he):s(be,!1)})}n(ve,J),Ge(),ce()}export{wr as component};
