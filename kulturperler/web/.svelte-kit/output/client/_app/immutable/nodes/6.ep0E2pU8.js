import{f as u,a as h,s as c,e as J}from"../chunks/DLNOMP84.js";import{i as Ra}from"../chunks/C5ne2wUq.js";import{p as Ua,o as Ya,l as ga,k as ja,q as x,r as Ga,g as a,I as Ha,s as d,m,$ as Ka,u as r,v as o,w as e,x as i,z as Qa,A as Oa}from"../chunks/D2mf_MPo.js";import{i as j}from"../chunks/BDyHfgtg.js";import{r as Za,e as V,i as W,s as na}from"../chunks/CoSwtozg.js";import{h as qa}from"../chunks/BNZG-Io9.js";import{s as X,b as Ja,c as Va}from"../chunks/D8ZOqRq3.js";import{h as Wa,v as Xa}from"../chunks/MscGuMyR.js";var ae=u('<div class="loading svelte-1aro8zh">Laster...</div>'),ee=u("<option> </option>"),te=u('<a class="timeline-person svelte-1aro8zh"><div class="person-placeholder svelte-1aro8zh"> </div> <span class="person-name svelte-1aro8zh"> </span></a>'),re=u('<div class="decade-column svelte-1aro8zh"><div class="decade-label svelte-1aro8zh"> </div> <div class="decade-persons svelte-1aro8zh"></div></div>'),se=u('<div class="timeline-view svelte-1aro8zh"><div class="timeline-decades svelte-1aro8zh"></div></div>'),le=u('<span class="years svelte-1aro8zh"> </span>'),ie=u('<span class="nationality svelte-1aro8zh"> </span>'),ve=u('<a class="person-card svelte-1aro8zh"><div class="person-info svelte-1aro8zh"><h3 class="svelte-1aro8zh"> </h3> <div class="person-meta svelte-1aro8zh"><!> <!></div> <div class="person-stats svelte-1aro8zh"><span class="stat svelte-1aro8zh"> </span> <span class="stat svelte-1aro8zh"> </span></div></div></a>'),oe=u('<div class="persons-grid svelte-1aro8zh"></div>'),ne=u('<div class="no-results svelte-1aro8zh"><p>Ingen dramatikere funnet med disse filtrene.</p></div>'),ce=u('<div class="controls svelte-1aro8zh"><div class="filters svelte-1aro8zh"><div class="filter-group svelte-1aro8zh"><input type="search" placeholder="Sok etter navn..." class="search-input svelte-1aro8zh"/></div> <div class="filter-group svelte-1aro8zh"><select class="nationality-select svelte-1aro8zh"><option>Alle land</option><!></select></div></div> <div class="view-controls svelte-1aro8zh"><div class="sort-buttons svelte-1aro8zh"><button> </button> <button> </button> <button> </button></div> <button>Tidslinje</button></div></div> <!> <!>',1),de=u('<div class="persons-page svelte-1aro8zh"><header class="page-header svelte-1aro8zh"><a href="/" class="back-link svelte-1aro8zh">&larr; Tilbake</a> <h1 class="svelte-1aro8zh">Dramatikere</h1> <p class="subtitle svelte-1aro8zh"> </p></header> <!></div>');function ge(ya,ka){Ua(ka,!1);const A=m();let $=m([]),aa=m([]),C=m(!0),G=m(""),E=m(""),p=m("plays"),w=m("desc"),H=m(!1),ca=m(1800),da=m(2e3);Ya(()=>{try{d($,Wa()),d(aa,Xa()),d(C,!1)}catch(t){console.error("Failed to load playwrights:",t),d(C,!1)}});function xa(t,l,F,D,B){let g=[...t];if(l){const b=l.toLowerCase();g=g.filter(y=>y.name.toLowerCase().includes(b))}return F&&(g=g.filter(b=>b.nationality===F)),g.sort((b,y)=>{let k=0;if(D==="name")k=b.name.localeCompare(y.name,"no");else if(D==="plays")k=b.performance_count-y.performance_count;else if(D==="birth"){const sa=b.birth_year||0,K=y.birth_year||0;k=sa-K}return B==="desc"?-k:k}),g}function ea(t){a(p)===t?d(w,a(w)==="asc"?"desc":"asc"):(d(p,t),d(w,t==="name"?"asc":"desc"))}function $a(){const t=[];for(let l=a(ca);l<=a(da);l+=10)t.push(l);return t}function wa(t){return a(A).filter(l=>l.birth_year&&l.birth_year>=t&&l.birth_year<t+10)}function _a(t){return t?{NO:"Norge",SE:"Sverige",DK:"Danmark",GB:"Storbritannia",US:"USA",DE:"Tyskland",FR:"Frankrike",RU:"Russland",IT:"Italia",ES:"Spania",IE:"Irland",AT:"Østerrike",CH:"Sveits",BE:"Belgia",NL:"Nederland",CZ:"Tsjekkia",PL:"Polen",GR:"Hellas",FI:"Finland"}[t]||t:""}ga(()=>(a($),a(G),a(E),a(p),a(w)),()=>{d(A,xa(a($),a(G),a(E),a(p),a(w)))}),ga(()=>a($),()=>{if(a($).length>0){const t=a($).filter(l=>l.birth_year).map(l=>l.birth_year);t.length>0&&(d(ca,Math.floor(Math.min(...t)/10)*10),d(da,Math.ceil(Math.max(...t)/10)*10))}}),ja(),Ra();var ta=de();qa("1aro8zh",t=>{Ha(()=>{Ka.title="Dramatikere - Kulturperler"})});var ra=r(ta),ha=o(r(ra),4),Sa=r(ha);e(ha),e(ra);var Aa=o(ra,2);{var Da=t=>{var l=ae();h(t,l)},Ia=t=>{var l=ce(),F=Qa(l),D=r(F),B=r(D),g=r(B);Za(g),e(B);var b=o(B,2),y=r(b);x(()=>{a(E),Oa(()=>{a(aa)})});var k=r(y);k.value=k.__value="";var sa=o(k);V(sa,1,()=>a(aa),W,(v,n)=>{var z=ee(),s=r(z,!0);e(z);var f={};x(S=>{c(s,S),f!==(f=a(n))&&(z.value=(z.__value=a(n))??"")},[()=>(a(n),i(()=>_a(a(n))))]),h(v,z)}),e(y),e(b),e(D);var K=o(D,2),la=r(K),R=r(la);let ua;var Na=r(R);e(R);var U=o(R,2);let fa;var Ma=r(U);e(U);var Q=o(U,2);let ma;var Ta=r(Q);e(Q),e(la);var pa=o(la,2);let ba;e(K),e(F);var za=o(F,2);{var Fa=v=>{var n=se(),z=r(n);V(z,5,()=>i($a),W,(s,f)=>{var S=re(),I=r(S),ia=r(I,!0);e(I);var L=o(I,2);V(L,5,()=>(a(f),i(()=>wa(a(f)))),W,(O,_)=>{var N=te(),Y=r(N),Z=r(Y,!0);e(Y);var P=o(Y,2),va=r(P,!0);e(P),e(N),x(q=>{na(N,"href",`/person/${a(_),i(()=>a(_).id)??""}`),na(N,"title",`${a(_),i(()=>a(_).name)??""} (${a(_),i(()=>a(_).birth_year)??""})`),c(Z,q),c(va,(a(_),i(()=>a(_).name)))},[()=>(a(_),i(()=>a(_).name.charAt(0)))]),h(O,N)}),e(L),e(S),x(()=>c(ia,a(f))),h(s,S)}),e(z),e(n),h(v,n)},La=v=>{var n=oe();V(n,5,()=>a(A),W,(z,s)=>{var f=ve(),S=r(f),I=r(S),ia=r(I,!0);e(I);var L=o(I,2),O=r(L);{var _=M=>{var T=le(),oa=r(T);e(T),x(()=>c(oa,`${a(s),i(()=>a(s).birth_year||"?")??""}–${a(s),i(()=>a(s).death_year||"")??""}`)),h(M,T)};j(O,M=>{a(s),i(()=>a(s).birth_year||a(s).death_year)&&M(_)})}var N=o(O,2);{var Y=M=>{var T=ie(),oa=r(T,!0);e(T),x(Ba=>c(oa,Ba),[()=>(a(s),i(()=>_a(a(s).nationality)))]),h(M,T)};j(N,M=>{a(s),i(()=>a(s).nationality)&&M(Y)})}e(L);var Z=o(L,2),P=r(Z),va=r(P);e(P);var q=o(P,2),Ea=r(q);e(q),e(Z),e(S),e(f),x(()=>{na(f,"href",`/person/${a(s),i(()=>a(s).id)??""}`),c(ia,(a(s),i(()=>a(s).name))),c(va,`${a(s),i(()=>a(s).play_count)??""} stykker`),c(Ea,`${a(s),i(()=>a(s).performance_count)??""} opptak`)}),h(z,f)}),e(n),h(v,n)};j(za,v=>{a(H)?v(Fa):v(La,!1)})}var Pa=o(za,2);{var Ca=v=>{var n=ne();h(v,n)};j(Pa,v=>{a(A),a(C),i(()=>a(A).length===0&&!a(C))&&v(Ca)})}x(()=>{ua=X(R,1,"svelte-1aro8zh",null,ua,{active:a(p)==="plays"}),c(Na,`Antall opptak ${a(p)==="plays"?a(w)==="desc"?"↓":"↑":""}`),fa=X(U,1,"svelte-1aro8zh",null,fa,{active:a(p)==="name"}),c(Ma,`Navn ${a(p)==="name"?a(w)==="asc"?"↑":"↓":""}`),ma=X(Q,1,"svelte-1aro8zh",null,ma,{active:a(p)==="birth"}),c(Ta,`Fodt ${a(p)==="birth"?a(w)==="asc"?"↑":"↓":""}`),ba=X(pa,1,"timeline-toggle svelte-1aro8zh",null,ba,{active:a(H)})}),Ja(g,()=>a(G),v=>d(G,v)),Va(y,()=>a(E),v=>d(E,v)),J("click",R,()=>ea("plays")),J("click",U,()=>ea("name")),J("click",Q,()=>ea("birth")),J("click",pa,()=>d(H,!a(H))),h(t,l)};j(Aa,t=>{a(C)?t(Da):t(Ia,!1)})}e(ta),x(()=>c(Sa,`${a(A),i(()=>a(A).length)??""} av ${a($),i(()=>a($).length)??""} dramatikere`)),h(ya,ta),Ga()}export{ge as component};
