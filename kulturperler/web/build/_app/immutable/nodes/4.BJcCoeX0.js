import{c as Y,a as l,f as c,s as f,t as ga}from"../chunks/DLNOMP84.js";import{i as sr}from"../chunks/C5ne2wUq.js";import{p as ir,l as sa,k as vr,z as J,r as or,g as a,s as $,m as N,D as lr,x as r,$ as dr,u as o,w as t,q as p,v as n,E as nr,F as _r}from"../chunks/D2mf_MPo.js";import{i as h}from"../chunks/BDyHfgtg.js";import{s as R,e as ia,i as va}from"../chunks/CoSwtozg.js";import{h as cr}from"../chunks/BNZG-Io9.js";import{s as pr,a as hr}from"../chunks/DlPtdyWE.js";import{p as fr}from"../chunks/BP5smSF2.js";import{m as ur,n as mr,o as gr,p as kr,q as yr}from"../chunks/MscGuMyR.js";var xr=c('<div class="loading svelte-did11h">Laster...</div>'),br=c('<div class="error svelte-did11h"> </div>'),$r=c('<span class="header-duration svelte-did11h"> </span>'),wr=c('<a target="_blank" rel="noopener" class="performance-image playable svelte-did11h"><img class="svelte-did11h"/> <div class="header-play-icon svelte-did11h"><svg viewBox="0 0 24 24" fill="currentColor" class="svelte-did11h"><path d="M8 5v14l11-7z"></path></svg></div> <!></a>'),Mr=c('<div class="performance-image svelte-did11h"><img class="svelte-did11h"/></div>'),jr=c('<span class="medium-badge radio svelte-did11h">Radioteater</span>'),Pr=c('<span class="medium-badge tv svelte-did11h">Fjernsynsteater</span>'),Rr=c('<span class="year svelte-did11h"> </span>'),zr=c('<span class="duration"> </span>'),Dr=c('<span class="director"> </span>'),Kr=c('<span class="year-written svelte-did11h"> </span>'),Or=c('<p class="playwright svelte-did11h">av <a class="svelte-did11h"> </a></p>'),Sr=c('<div class="work-preview svelte-did11h"><div class="work-preview-header svelte-did11h"><span class="label svelte-did11h"> </span> <a class="work-link svelte-did11h">Se mer &rarr;</a></div> <h2 class="svelte-did11h"><a class="svelte-did11h"> </a> <!></h2> <!></div>'),Cr=c('<p class="description svelte-did11h"> </p>'),Ir=c('<span class="media-duration svelte-did11h"> </span>'),Lr=c(" <!>",1),Nr=c('<span class="part-label svelte-did11h"><!></span>'),Ur=c('<a target="_blank" rel="noopener" class="media-card svelte-did11h"><div class="media-thumbnail svelte-did11h"><img loading="lazy" class="svelte-did11h"/> <div class="play-icon svelte-did11h"><svg viewBox="0 0 24 24" fill="currentColor" class="svelte-did11h"><path d="M8 5v14l11-7z"></path></svg></div> <!></div> <div class="media-info svelte-did11h"><!> <span class="watch-label svelte-did11h"> </span></div></a>'),Fr=c('<section class="media-section svelte-did11h"><h2 class="svelte-did11h"> </h2> <div class="media-grid svelte-did11h"></div></section>'),qr=c('<span class="character svelte-did11h"> </span>'),Ar=c('<li class="svelte-did11h"><a class="svelte-did11h"> </a> <!></li>'),Br=c('<div class="contributor-group svelte-did11h"><h3 class="svelte-did11h"> </h3> <ul class="svelte-did11h"></ul></div>'),Er=c('<section class="contributors svelte-did11h"><h2 class="svelte-did11h">Medvirkende</h2> <div class="contributor-groups svelte-did11h"></div></section>'),Tr=c('<span class="other-director svelte-did11h"> </span>'),Gr=c('<span class="other-duration svelte-did11h"> </span>'),Vr=c('<a class="other-performance-card svelte-did11h"><div class="other-thumbnail svelte-did11h"><img loading="lazy" class="svelte-did11h"/></div> <div class="other-info svelte-did11h"><span class="other-year svelte-did11h"> </span> <!> <!></div></a>'),Hr=c('<section class="other-performances svelte-did11h"><h2 class="svelte-did11h"> </h2> <div class="other-performances-grid svelte-did11h"></div></section>'),Jr=c('<article class="performance-detail svelte-did11h"><a href="/" class="back-link svelte-did11h">&larr; Tilbake til oversikt</a> <div class="performance-header svelte-did11h"><!> <div class="performance-info svelte-did11h"><h1 class="svelte-did11h"> <!></h1> <div class="meta-line svelte-did11h"><!> <!> <!></div> <!> <!></div></div> <!> <!> <!></article>');function se(za,Da){ir(Da,!1);const ka=()=>hr(fr,"$page",Ka),[Ka,Oa]=pr(),q=N(),Q=N(),oa=N();let v=N(null),k=N(null),Z=N([]),x=N([]),A=N([]),aa=N(!0),W=N(null);function Sa(){$(aa,!0),$(W,null),$(k,null),$(A,[]);try{$(v,ur(a(q))),a(v)?($(Z,mr(a(q))),$(x,gr(a(q))),a(v).work_id&&($(k,kr(a(v).work_id)),$(A,yr(a(v).work_id,a(q))))):$(W,"Opptak ikke funnet"),$(aa,!1)}catch(_){$(W,_ instanceof Error?_.message:"Ukjent feil"),$(aa,!1)}}function la(_){if(!_)return"";const u=Math.floor(_/3600),D=Math.floor(_%3600/60);return u>0?`${u}t ${D}m`:`${D} min`}function Ca(_){if(!_)return"";const u=Math.floor(_/3600),D=Math.floor(_%3600/60);return u>0?`${u} time${u>1?"r":""} ${D} min`:`${D} minutter`}function ra(_){return _||"/placeholder.jpg"}function Ia(_){return{director:"Regi",actor:"Skuespillere",playwright:"Manus",composer:"Komponist",set_designer:"Scenografi",costume_designer:"Kostymer",producer:"Produsent",other:"Annet"}[_||""]||_||"Ukjent rolle"}function La(_){const u={};for(const D of _){const B=D.role||"other";u[B]||(u[B]=[]),u[B].push(D)}return u}function Na(){return a(Z).find(u=>u.role==="director")?.person_name||null}sa(()=>ka(),()=>{$(q,parseInt(ka().params.id||"0"))}),sa(()=>a(q),()=>{a(q)&&Sa()}),sa(()=>a(Z),()=>{$(Q,La(a(Z)))}),sa(()=>{},()=>{$(oa,Na())}),vr(),sr();var ya=Y();cr("did11h",_=>{var u=Y(),D=J(u);{var B=ea=>{lr(()=>{dr.title=`${a(v),a(k),r(()=>a(v).title||a(k)?.title||"Opptak")??""} (${a(v),r(()=>a(v).year)??""}) - Kulturperler`})};h(D,ea=>{a(v)&&ea(B)})}l(_,u)});var Ua=J(ya);{var Fa=_=>{var u=xr();l(_,u)},qa=_=>{var u=Y(),D=J(u);{var B=G=>{var V=br(),da=o(V,!0);t(V),p(()=>f(da,a(W))),l(G,V)},ea=G=>{var V=Y(),da=J(V);{var Aa=na=>{var _a=Jr(),ca=n(o(_a),2),xa=o(ca);{var Ba=s=>{var i=wr(),d=o(i),w=n(d,4);{var O=z=>{var e=$r(),y=o(e,!0);t(e),p(M=>f(y,M),[()=>(a(x),r(()=>la(a(x)[0].duration_seconds)))]),l(z,e)};h(w,z=>{a(x),r(()=>a(x)[0].duration_seconds)&&z(O)})}t(i),p(z=>{R(i,"href",(a(x),r(()=>a(x)[0].nrk_url||`https://tv.nrk.no/se?v=${a(x)[0].prf_id}`))),R(d,"src",z),R(d,"alt",(a(v),r(()=>a(v).title||"")))},[()=>(a(v),r(()=>ra(a(v).image_url)))]),l(s,i)},Ea=s=>{var i=Mr(),d=o(i);t(i),p(w=>{R(d,"src",w),R(d,"alt",(a(v),r(()=>a(v).title||"")))},[()=>(a(v),r(()=>ra(a(v).image_url)))]),l(s,i)};h(xa,s=>{a(x),r(()=>a(x).length===1)?s(Ba):s(Ea,!1)})}var ba=n(xa,2),pa=o(ba),$a=o(pa),Ta=n($a);{var Ga=s=>{var i=jr();l(s,i)},Va=s=>{var i=Pr();l(s,i)};h(Ta,s=>{a(v),r(()=>a(v).medium==="radio")?s(Ga):s(Va,!1)})}t(pa);var ha=n(pa,2),wa=o(ha);{var Ha=s=>{var i=Rr(),d=o(i,!0);t(i),p(()=>f(d,(a(v),r(()=>a(v).year)))),l(s,i)};h(wa,s=>{a(v),r(()=>a(v).year)&&s(Ha)})}var Ma=n(wa,2);{var Ja=s=>{var i=zr(),d=o(i,!0);t(i),p(w=>f(d,w),[()=>(a(v),r(()=>Ca(a(v).total_duration)))]),l(s,i)};h(Ma,s=>{a(v),r(()=>a(v).total_duration)&&s(Ja)})}var Qa=n(Ma,2);{var Wa=s=>{var i=Dr(),d=o(i);t(i),p(()=>f(d,`Regi: ${a(oa)??""}`)),l(s,i)};h(Qa,s=>{a(oa)&&s(Wa)})}t(ha);var ja=n(ha,2);{var Xa=s=>{var i=Sr(),d=o(i),w=o(d),O=o(w);t(w);var z=n(w,2);t(d);var e=n(d,2),y=o(e),M=o(y,!0);t(y);var K=n(y,2);{var F=m=>{var j=Kr(),P=o(j);t(j),p(()=>f(P,`(${a(k),r(()=>a(k).year_written)??""})`)),l(m,j)};h(K,m=>{a(k),r(()=>a(k).year_written)&&m(F)})}t(e);var C=n(e,2);{var I=m=>{var j=Or(),P=n(o(j)),E=o(P,!0);t(P),t(j),p(()=>{R(P,"href",`/person/${a(v),r(()=>a(v).playwright_id)??""}`),f(E,(a(v),r(()=>a(v).playwright_name)))}),l(m,j)};h(C,m=>{a(v),r(()=>a(v).playwright_name)&&m(I)})}t(i),p(()=>{f(O,`Fra stykket (${a(A),r(()=>a(A).length+1)??""} opptak)`),R(z,"href",`/play/${a(k),r(()=>a(k).id)??""}`),R(y,"href",`/play/${a(k),r(()=>a(k).id)??""}`),f(M,(a(k),r(()=>a(k).title)))}),l(s,i)};h(ja,s=>{a(k)&&s(Xa)})}var Ya=n(ja,2);{var Za=s=>{var i=Cr(),d=o(i,!0);t(i),p(()=>f(d,(a(v),r(()=>a(v).description)))),l(s,i)};h(Ya,s=>{a(v),r(()=>a(v).description)&&s(Za)})}t(ba),t(ca);var Pa=n(ca,2);{var ar=s=>{var i=Fr(),d=o(i),w=o(d);t(d);var O=n(d,2);ia(O,5,()=>a(x),va,(z,e)=>{var y=Ur(),M=o(y),K=o(M),F=n(K,4);{var C=g=>{var b=Ir(),S=o(b,!0);t(b),p(U=>f(S,U),[()=>(a(e),r(()=>la(a(e).duration_seconds)))]),l(g,b)};h(F,g=>{a(e),r(()=>a(e).duration_seconds)&&g(C)})}t(M);var I=n(M,2),m=o(I);{var j=g=>{var b=Nr(),S=o(b);{var U=H=>{var X=Lr(),ta=J(X),ua=n(ta);{var ma=L=>{var T=ga();p(()=>f(T,`/${a(e),r(()=>a(e).total_parts)??""}`)),l(L,T)};h(ua,L=>{a(e),r(()=>a(e).total_parts)&&L(ma)})}p(()=>f(ta,`Del ${a(e),r(()=>a(e).part_number)??""}`)),l(H,X)},fa=H=>{var X=Y(),ta=J(X);{var ua=L=>{var T=ga("Introduksjon");l(L,T)},ma=L=>{var T=ga();p(()=>f(T,(a(e),r(()=>a(e).title)))),l(L,T)};h(ta,L=>{a(e),r(()=>a(e).media_type==="intro")?L(ua):L(ma,!1)},!0)}l(H,X)};h(S,H=>{a(e),r(()=>a(e).part_number)?H(U):H(fa,!1)})}t(b),l(g,b)};h(m,g=>{a(x),r(()=>a(x).length>1)&&g(j)})}var P=n(m,2),E=o(P,!0);t(P),t(I),t(y),p(g=>{R(y,"href",(a(e),r(()=>a(e).nrk_url||`https://tv.nrk.no/se?v=${a(e).prf_id}`))),R(K,"src",g),R(K,"alt",(a(e),r(()=>a(e).title))),f(E,(a(v),r(()=>a(v)?.medium==="radio"?"Lytt på NRK Radio":"Se på NRK TV")))},[()=>(a(e),r(()=>ra(a(e).image_url)))]),l(z,y)}),t(O),t(i),p(()=>f(w,`Se alle deler (${a(x),r(()=>a(x).length)??""})`)),l(s,i)};h(Pa,s=>{a(x),r(()=>a(x).length>1)&&s(ar)})}var Ra=n(Pa,2);{var rr=s=>{var i=Er(),d=n(o(i),2);ia(d,5,()=>(a(Q),r(()=>Object.entries(a(Q)))),va,(w,O)=>{var z=nr(()=>_r(a(O),2));let e=()=>a(z)[0],y=()=>a(z)[1];var M=Br(),K=o(M),F=o(K,!0);t(K);var C=n(K,2);ia(C,5,y,va,(I,m)=>{var j=Ar(),P=o(j),E=o(P,!0);t(P);var g=n(P,2);{var b=S=>{var U=qr(),fa=o(U);t(U),p(()=>f(fa,`som ${a(m),r(()=>a(m).character_name)??""}`)),l(S,U)};h(g,S=>{a(m),r(()=>a(m).character_name)&&S(b)})}t(j),p(()=>{R(P,"href",`/person/${a(m),r(()=>a(m).person_id)??""}`),f(E,(a(m),r(()=>a(m).person_name)))}),l(I,j)}),t(C),t(M),p(I=>f(F,I),[()=>(e(),r(()=>Ia(e())))]),l(w,M)}),t(d),t(i),l(s,i)};h(Ra,s=>{a(Q),r(()=>Object.keys(a(Q)).length>0)&&s(rr)})}var er=n(Ra,2);{var tr=s=>{var i=Hr(),d=o(i),w=o(d);t(d);var O=n(d,2);ia(O,5,()=>a(A),va,(z,e)=>{var y=Vr(),M=o(y),K=o(M);t(M);var F=n(M,2),C=o(F),I=o(C,!0);t(C);var m=n(C,2);{var j=g=>{var b=Tr(),S=o(b);t(b),p(()=>f(S,`Regi: ${a(e),r(()=>a(e).director_name)??""}`)),l(g,b)};h(m,g=>{a(e),r(()=>a(e).director_name)&&g(j)})}var P=n(m,2);{var E=g=>{var b=Gr(),S=o(b,!0);t(b),p(U=>f(S,U),[()=>(a(e),r(()=>la(a(e).total_duration)))]),l(g,b)};h(P,g=>{a(e),r(()=>a(e).total_duration)&&g(E)})}t(F),t(y),p(g=>{R(y,"href",`/performance/${a(e),r(()=>a(e).id)??""}`),R(K,"src",g),R(K,"alt",(a(e),r(()=>a(e).title||""))),f(I,(a(e),r(()=>a(e).year)))},[()=>(a(e),r(()=>ra(a(e).image_url)))]),l(z,y)}),t(O),t(i),p(()=>f(w,`Andre opptak av ${a(k),r(()=>a(k)?.title||"dette stykket")??""}`)),l(s,i)};h(er,s=>{a(A),r(()=>a(A).length>0)&&s(tr)})}t(_a),p(()=>f($a,`${a(v),a(k),r(()=>a(v).title||a(k)?.title||"Ukjent tittel")??""} `)),l(na,_a)};h(da,na=>{a(v)&&na(Aa)},!0)}l(G,V)};h(D,G=>{a(W)?G(B):G(ea,!1)},!0)}l(_,u)};h(Ua,_=>{a(aa)?_(Fa):_(qa,!1)})}l(za,ya),or(),Oa()}export{se as component};
